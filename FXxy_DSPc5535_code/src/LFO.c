


#include "tistdtypes.h"

/*Look-up table for the sine function*/
static Int16 sintable[512]={0,3,6,9,13,16,19,22,25,28,31,35,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89,92,95,98,101,104,107,110,112,115,118,121,124,126,129,132,135,137,140,142,145,148,150,153,155,158,160,163,165,167,170,172,175,177,179,181,184,186,188,190,192,194,196,198,200,202,204,206,208,210,211,213,215,217,218,220,221,223,225,226,227,229,230,232,233,234,236,237,238,239,240,241,242,243,244,245,246,247,248,248,249,250,251,251,252,252,253,253,254,254,255,255,255,255,256,256,256,256,256,256,256,256,256,256,255,255,255,255,254,254,254,253,253,252,252,251,250,250,249,248,247,246,246,245,244,243,242,241,240,238,237,236,235,234,232,231,230,228,227,225,224,222,221,219,217,216,214,212,210,209,207,205,203,201,199,197,195,193,191,189,187,185,182,180,178,176,173,171,169,166,164,161,159,157,154,151,149,146,144,141,139,136,133,130,128,125,122,120,117,114,111,108,105,102,100,97,94,91,88,85,82,79,76,73,70,67,64,61,58,55,52,48,45,42,39,36,33,30,27,24,20,17,14,11,8,5,2,-2,-5,-8,-11,-14,-17,-20,-24,-27,-30,-33,-36,-39,-42,-45,-48,-52,-55,-58,-61,-64,-67,-70,-73,-76,-79,-82,-85,-88,-91,-94,-97,-100,-102,-105,-108,-111,-114,-117,-120,-122,-125,-128,-130,-133,-136,-139,-141,-144,-146,-149,-151,-154,-157,-159,-161,-164,-166,-169,-171,-173,-176,-178,-180,-182,-185,-187,-189,-191,-193,-195,-197,-199,-201,-203,-205,-207,-209,-210,-212,-214,-216,-217,-219,-221,-222,-224,-225,-227,-228,-230,-231,-232,-234,-235,-236,-237,-238,-240,-241,-242,-243,-244,-245,-246,-246,-247,-248,-249,-250,-250,-251,-252,-252,-253,-253,-254,-254,-254,-255,-255,-255,-255,-256,-256,-256,-256,-256,-256,-256,-256,-256,-256,-255,-255,-255,-255,-254,-254,-253,-253,-252,-252,-251,-251,-250,-249,-248,-248,-247,-246,-245,-244,-243,-242,-241,-240,-239,-238,-237,-236,-234,-233,-232,-230,-229,-227,-226,-225,-223,-221,-220,-218,-217,-215,-213,-211,-210,-208,-206,-204,-202,-200,-198,-196,-194,-192,-190,-188,-186,-184,-181,-179,-177,-175,-172,-170,-167,-165,-163,-160,-158,-155,-153,-150,-148,-145,-142,-140,-137,-135,-132,-129,-126,-124,-121,-118,-115,-112,-110,-107,-104,-101,-98,-95,-92,-89,-86,-83,-80,-77,-74,-71,-68,-65,-62,-59,-56,-53,-50,-47,-44,-41,-38,-35,-31,-28,-25,-22,-19,-16,-13,-9,-6,-3,0};

Int16 LFO(Int16 LFOspeed)
{
	static int index1=0;
	static int index2=0;
	
	if (index1==LFOspeed)
	{
		index2=index2+1;
		index1=0;
}

	index2=index2 & 511;
	
	index1=index1+1;
	
	return sintable[index2];	
}
